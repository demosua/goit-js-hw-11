!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequirea610;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequirea610=a);var r=a("bpxeT"),i=a("2TvXO"),s=a("5IjG7"),c=a("6JpON"),l=a("dIxxU"),u=a("l1Gdk");e(c).Notify.init({width:"280px",position:"center-top",distance:"54px",timeout:1e3,clickToClose:!0}),API_KEY_PIXABAY="34930678-f4d511ae74090860518da87d0";var d=1,f="",p={gallery:document.querySelector(".gallery"),form:document.querySelector("#search-form"),inputQuery:document.forms[0].elements.searchQuery,loadmoreBtn:document.querySelector(".load-more")};function m(){e(c).Notify.failure("Sorry, there are no images matching your search query. Please try again.")}function y(){e(c).Notify.failure("We're sorry, but you've reached the end of search results."),p.loadmoreBtn.classList.add("is-hidden")}function h(t){t&&(e(c).Notify.success("Hooray! We found ".concat(t," images.")),setTimeout((function(){p.loadmoreBtn.classList.remove("is-hidden")}),500))}function v(t){var n,o=t.data,a=t.totalHits;try{if(0===a)return void m();if(0===o.length)return void y();var r=function(e){var t=e.map((function(e){var t=e.webformatURL,n=e.largeImageURL,o=e.tags,a=e.likes,r=e.views,i=e.comments,s=e.downloads;return'<a class="photo-card-link" href="'.concat(n,'">\n        <div class="photo-card">\n            <img class="photo-card-image" src="').concat(t,'" alt="').concat(o,'" loading="lazy" />\n            <div class="info">\n                <p class="info-item">\n                <b>Likes</b>\n                <span>').concat(a.toLocaleString("uk"),'</span>\n                </p>\n                <p class="info-item">\n                <b>Views</b>\n                <span>').concat(r.toLocaleString("uk"),'</span>\n                </p>\n                <p class="info-item">\n                <b>Comments</b>\n                <span>').concat(i.toLocaleString("uk"),'</span>\n                </p>\n                <p class="info-item">\n                <b>Downloads</b>\n                <span>').concat(s.toLocaleString("uk"),"</span>\n                </p>\n            </div>\n        </div> \n        </a>")})).join("");return t}(o);p.gallery.insertAdjacentHTML("beforeend",r);new(e(s))(".gallery a");return n=document.querySelector(".gallery").firstElementChild.getBoundingClientRect().height,window.scrollBy({top:2*n,behavior:"smooth"}),a}catch(e){console.log(e)}}function g(e,t){return b.apply(this,arguments)}function b(){return(b=e(r)(e(i).mark((function t(n,o){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.default.get("/?key=".concat(API_KEY_PIXABAY,"&q=").concat(n,"&image_type=photo&orientation=horizontal&safesearch=true&per_page=200&page=").concat(o),{baseURL:"https://pixabay.com/api",transformResponse:[function(e){var t=JSON.parse(e).totalHits,n=JSON.parse(e).hits,o=[],a=!0,r=!1,i=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value,u=l.webformatURL,d=l.largeImageURL,f=l.tags,p=l.likes,m=l.views,y=l.comments,h=l.downloads;o.push({webformatURL:u,largeImageURL:d,tags:f,likes:p,views:m,comments:y,downloads:h})}}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return{data:o,totalHits:t}}]});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}p.loadmoreBtn.classList.add("is-hidden"),p.loadmoreBtn.addEventListener("click",(function(){g(f,d+=1).then(v).catch(y)})),p.form.addEventListener("submit",(function(t){if(t.preventDefault(),f!==p.inputQuery.value)return f=p.inputQuery.value,p.gallery.innerHTML="",void g(f,d).then(v).then(h).catch(m);if(!(f=p.inputQuery.value))return void e(c).Notify.info("Please, enter some text.")})),p.inputQuery.addEventListener("input",e(u)((function(e){d=1,p.loadmoreBtn.classList.add("is-hidden")}),500))}();
//# sourceMappingURL=homework.b0dff413.js.map
